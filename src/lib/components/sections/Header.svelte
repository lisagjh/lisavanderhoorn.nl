<script>
	import { onMount } from 'svelte';

	let currentPath;

	onMount(() => {
		currentPath = window.location.pathname;

		document.querySelectorAll('a').forEach((link) => {
			link.addEventListener('mouseover', () => {
				link.classList.add('hovered');
			});
		});
	});
</script>

<header>
	<nav>
		<ul>
			<li>
				<a href="/" class={currentPath === '/' ? 'active home' : 'home'} aria-label="home">
					<svg width="25" height="21" fill="none" xmlns="http://www.w3.org/2000/svg"
						><path
							d="M16.9 8.64a1 1 0 1 0-2 0h2Zm-.8-.53-.92-.4.92.4Zm-.94-5.7.57-.83-.57.82Zm-3.48-.55-.04-1 .04 1Zm-2.1 1.37-.87-.5.86.5Zm0 4.16.85-.53-.86.53Zm.68.56-.74.68.74-.68ZM6.99 6.1l-.21.97.2-.97Zm-3.43.42.43.9-.43-.9ZM1.9 8.13l.97.23-.97-.23Zm.15 2.12.79-.62-.79.62Zm1.77 1.19.31-.95-.31.95Zm3.86.38.5.87-.5-.87Zm-.58-.03-.3-.95.3.95Zm-3.88 2.82.91.42-.9-.42Zm-.41 3.27-.93.36.93-.36Zm2.83 1.93.1-1-.1 1Zm4.52-2.73-.8-.6.8.6Zm.64-1.44 1 .08-1-.08Zm0-.3 1-.06-1 .06Zm2 2.75-.65.75.65-.75Zm2.6 1.13-.14.99.14-1Zm3.29-1.26.82.57-.82-.57Zm-1.54-4.82-.41.9.4-.9Zm-1.16-.27-.11 1 .1-1Zm5.28-1.48.66.75-.66-.75Zm2.47-3.4-.97-.23.97.24ZM21.78 6.1l.34-.94-.34.94Zm-4.96.59.58.81-.58-.81Zm-2 1.61a1 1 0 1 0 2 0h-2Zm-1.2 1.99.72-.7-.71.7Zm-2.71.1-.7-.72.7.72Zm-.46 2.56.57-.82-.57.82Zm2.86-.5.59.81-.59-.8Zm2.59-3.81h-1c0 .03 0 .16.04.31a1 1 0 0 0 1.82.2l.09-.17.08-.21.06-.2.03-.06-.92-.4-.92-.4-.14.39-.04.12c-.01.03 0-.03.05-.1a.97.97 0 0 1 .27-.29 1 1 0 0 1 1.53.5c.05.16.05.29.05.3h-1Zm.2-.53.92.4c.18-.43.33-.86.42-1.3l-.98-.2-.98-.21c-.05.28-.15.57-.3.92l.92.4Zm.36-1.1.98.2c.08-.4.12-.8.12-1.24h-2c0 .32-.02.58-.08.83l.98.2Zm.1-1.04h1c0-1.44-.08-3.19-1.83-4.4l-.57.83-.56.83c.83.57.96 1.32.96 2.74h1Zm-1.4-3.57.57-.82a4.48 4.48 0 0 0-2.16-.72C12.9.8 12.2.84 11.64.86l.04 1 .05 1c.6-.03 1.14-.06 1.66 0 .5.04.9.16 1.2.37l.57-.83Zm-3.48-.54-.04-1A3.59 3.59 0 0 0 8.7 2.72l.86.51.87.51c.33-.56.79-.86 1.29-.88l-.05-1Zm-2.1 1.37-.87-.5a5.19 5.19 0 0 0-.63 2.5c-.01.87.15 1.8.56 2.54l.88-.49.87-.48c-.2-.35-.32-.91-.31-1.53 0-.63.15-1.18.36-1.53l-.87-.5Zm-.06 4.05-.88.49.08.14.85-.52.86-.53a1.54 1.54 0 0 1-.04-.06l-.87.48Zm.05.1-.85.53c.11.18.3.35.37.43a7.18 7.18 0 0 0 .76.6l.16.07c.03 0 .28.1.58.01a1 1 0 0 0 .74-1.01c0-.23-.1-.4-.11-.43-.08-.15-.2-.28-.23-.3l-.73.67-.74.68c.01.01.01.01 0 0l-.02-.02a.88.88 0 0 1-.06-.1c0-.03-.1-.19-.1-.41a1 1 0 0 1 .73-1c.3-.1.54 0 .56 0l.14.06c.08.04.08.05-.04-.05a5.18 5.18 0 0 1-.26-.22c-.11-.11-.1-.1-.04-.03l-.86.53Zm.69.57.73-.67a6.47 6.47 0 0 0-.87-.8l-.6.8-.6.8c.23.18.43.36.6.55l.74-.68Zm-.74-.67.6-.8A7.72 7.72 0 0 0 7.2 5.13l-.21.98-.21.97c.68.15 1.48.52 2.13 1.01l.6-.8ZM6.99 6.1l.2-.98c-1.39-.3-2.8-.1-4.07.5l.44.9.43.9a4.32 4.32 0 0 1 2.79-.35l.2-.97Zm-3.43.42-.44-.9c-.67.32-1.88.97-2.2 2.28l.98.23.97.23c.08-.3.41-.6 1.12-.94l-.43-.9ZM1.9 8.13.93 7.9c-.09.35-.17.83-.16 1.33 0 .47.09 1.11.5 1.63l.78-.61.79-.62-.04-.1a1.36 1.36 0 0 1-.04-.32c0-.28.05-.59.11-.85l-.97-.23Zm.15 2.12-.78.61a5.17 5.17 0 0 0 2.24 1.52l.3-.94.32-.95a3.2 3.2 0 0 1-1.3-.86l-.78.62Zm1.77 1.19-.31.95c1.03.34 2.03.52 3.12.55l.03-1 .02-1a8.79 8.79 0 0 1-2.55-.45l-.31.95Zm2.84.5-.03 1h.34v-2h-.29l-.02 1Zm.3 0v1c.21 0 .73.02 1.21-.25l-.5-.87-.48-.87c.03-.02.04-.02 0-.01a4.1 4.1 0 0 1-.23 0v1Zm.72-.12.5.87.17-.12c.05-.04.2-.16.3-.37a1.02 1.02 0 0 0-.62-1.41c-.17-.05-.33-.06-.37-.06a2.39 2.39 0 0 0-.55.05l-.3.06.29.95.3.96-.07.02a2.34 2.34 0 0 1 .27-.04h.03-.05a.96.96 0 0 1-.63-.37.99.99 0 0 1-.11-1.02c.1-.2.23-.3.26-.33a.7.7 0 0 1 .09-.06l.49.87Zm-.58-.03-.3-.95-.48.16.34.94.33.94.4-.13-.29-.96Zm-.44.15L6.32 11c-1.44.5-3.22 1.47-4 3.2l.9.41.91.42c.44-.97 1.56-1.69 2.86-2.15l-.33-.94Zm-3.44 2.67-.9-.42a7.66 7.66 0 0 0-.6 1.85c-.11.67-.13 1.46.16 2.2l.93-.36.93-.36c-.1-.28-.13-.66-.04-1.14.08-.47.24-.95.43-1.35l-.9-.42Zm-.41 3.27-.93.36c.63 1.66 2.22 2.42 3.66 2.57l.1-1 .1-1c-.97-.1-1.72-.56-2-1.29l-.93.36Zm2.83 1.93-.1 1a4.82 4.82 0 0 0 3.23-.94 9.81 9.81 0 0 0 2.2-2.19l-.8-.6-.8-.6c-.5.67-1.1 1.3-1.74 1.75-.64.44-1.27.65-1.9.59l-.1.99Zm4.52-2.73.8.6c.35-.46.77-1.14.84-1.96l-1-.08-1-.08a1.9 1.9 0 0 1-.44.92l.8.6Zm.64-1.44 1 .08v-.38c0-.1 0-.06 0 0l-.01.08a1 1 0 0 1-.03.11 1 1 0 0 1-1.86.15c-.06-.12-.08-.23-.08-.23l-.01-.08v-.02.04l1-.05 1-.06a3.6 3.6 0 0 0-.01-.14l-.02-.1s-.02-.1-.08-.23a1 1 0 0 0-1.7-.16c-.11.14-.15.29-.16.31a1 1 0 0 0-.04.2v.4l1 .08Zm0-.3-1 .05c.06.88.54 1.61.99 2.14.45.54 1 1 1.36 1.31l.65-.75.66-.76c-.39-.33-.8-.7-1.15-1.1-.35-.41-.5-.73-.5-.95l-1 .06Zm2 2.75-.65.75c.96.84 1.9 1.2 3.1 1.37l.15-1 .13-.98a3.57 3.57 0 0 1-2.07-.9l-.66.76Zm2.6 1.13-.14.99c.76.1 1.55.11 2.3-.14a3.81 3.81 0 0 0 1.95-1.54l-.82-.57-.83-.56c-.31.45-.62.67-.94.77-.34.12-.78.14-1.39.06l-.13.99Zm3.29-1.26.82.57c1.65-2.42.36-5.26-1.95-6.3l-.41.9-.41.92c1.41.64 1.93 2.17 1.12 3.35l.83.56Zm-1.54-4.82.4-.91c-.53-.25-1.05-.3-1.45-.35l-.11 1-.11.99c.41.04.64.08.86.18l.4-.91Zm-1.16-.27.11-1h-.04l.09.03a.93.93 0 0 1 .4.26 1 1 0 0 1-.07 1.42c-.18.15-.36.2-.36.2l-.1.03.23-.02v-2l-.5.03-.22.05a1 1 0 0 0-.45 1.65c.19.2.41.27.43.27a2.51 2.51 0 0 0 .37.07l.1-.99Zm.26-.08v1c1.78 0 3.98-.14 5.68-1.65l-.66-.75-.67-.75c-1.1.98-2.59 1.15-4.35 1.15v1Zm5.02-1.4.66.75c1-.9 2.35-2.2 2.78-3.9L23.74 8l-.97-.24c-.26 1.03-1.14 1.97-2.17 2.88l.67.75Zm2.47-3.4.97.25c.27-1.11-.46-1.88-.98-2.27a6.51 6.51 0 0 0-1.61-.81l-.34.94-.34.94c.36.13.8.32 1.1.54.15.11.2.2.23.22 0 .02 0 .01 0 0v-.04l.97.24ZM21.78 6.1l.34-.94a6.52 6.52 0 0 0-5.88.71l.58.82.58.81a4.52 4.52 0 0 1 4.04-.46l.34-.94Zm-4.96.59-.58-.82c-.18.13-.35.28-.5.44l.72.7.73.68.2-.19-.57-.81Zm-.36.31-.72-.69c-.23.24-.45.53-.61.84-.17.31-.32.71-.32 1.15h2s0-.07.08-.2c.07-.14.18-.28.3-.4l-.73-.7Zm-2.84 3.29.72-.7a2.8 2.8 0 0 0-1.96-.92c-.8-.01-1.54.38-2.17 1l.7.72.7.7c.4-.38.64-.42.75-.42.1 0 .3.05.55.32l.71-.7Zm-2.71.1-.7-.72a4.26 4.26 0 0 0-.99 1.68c-.18.6-.32 1.73.65 2.42l.58-.82.57-.82c.06.04.07.1.07.1 0-.03 0-.13.05-.3a2.33 2.33 0 0 1 .47-.83l-.7-.71Zm-.46 2.56-.58.82c.78.55 1.6.58 2.33.38a5.44 5.44 0 0 0 1.7-.89l-.59-.8-.59-.81c-.4.29-.74.5-1.05.58-.26.07-.44.04-.65-.1l-.57.82Zm2.86-.5.59.81c.33-.23.5-.59.6-.81a3.94 3.94 0 0 0 .3-1.8 1.76 1.76 0 0 0-.46-1.06l-.71.7-.72.7a.48.48 0 0 1-.1-.17v.04c0 .08 0 .22-.03.39a1.96 1.96 0 0 1-.16.5s.02-.04.1-.1l.6.8Z"
							fill="#2465FC"
						></path></svg
					>
				</a>
			</li>
		
		</ul>
	</nav>
</header>

<style scoped>
	header {
		position: sticky;
		top: 0;
		width: 100%;
		max-width: 67rem;
		padding: 1rem 2rem;
		z-index: 50;
		view-transition-name: header;
	}

	nav {
		display: flex;
		justify-self: center;
		width: 100%;
		border-radius: 2rem;

		background-color: var(--off-white);
		display: flex;
		justify-content: space-between;
		align-items: center;
		justify-self: center;
		justify-content: center;
		box-shadow:
			0 4px 4px var(--secondary-shadow),
			0 2px 8px var(--secondary-shadow);
	}

	ul {
		display: flex;
		flex-direction: row;
		gap: 1rem;
		padding: 1rem 2rem;
		width: 100%;
	}

	li {
		display: flex;
		list-style: '';
	}

	a {
		position: relative;
		display: flex;
		justify-content: center;
		align-items: center;
		text-decoration: none;
		height: 100%;
		padding: 0.5rem;
		transition: 0.25s ease-in-out;
		border-radius: 6px 6px 0 0;
		transition: 0.25s ease-in-out;
	}

	a:hover {
		background-color: var(--primary-lighter);
	}

	a.active {
		color: var(--primary);
		font-weight: bold;
		border-radius: 6px 6px 0 0;
		z-index: 50;
	}

	a.active::before {
		content: '';
		position: absolute;
		bottom: -0.1rem;
		left: 0;
		height: 2px;
		width: 100%;
		background-color: var(--primary);
		opacity: 1 !important;
		animation: none;
		view-transition-name: active-link;
	}

	a.active::after {
		content: '';
		position: absolute;
		bottom: 0;
		left: 0;
		background-color: var(--primary-light);
		height: 100%;
		width: 100%;
		border-radius: 2px 2px 0 0;
		opacity: 50%;
		z-index: -1;
		view-transition-name: active-bg;
		transform-origin: bottom center;
		animation: active-bg 0.25s ease-in-out forwards;
	}

	@keyframes active-bg {
		from {
			scale: 0.7;
		}
		to {
			scale: 1;
		}
	}

	a::before {
		justify-self: center;
		align-self: center;
		content: '';
		position: absolute;
		bottom: -0.1rem;
		left: 0;
		height: 2px;
		width: 0%;
		background-color: var(--primary);
		opacity: 0;
		transform-origin: center;
		transition: 0.25s ease-in-out;
	}

	a:hover:not(.active)::before {
		width: 100%;
		opacity: 1;
		animation: show-link 0.25s ease-in-out forwards;
	}

	a.active::before {
		content: '';
		position: absolute;
		bottom: -0.1rem;
		left: 0;
		height: 2px;
		width: 100% !important;
		background-color: var(--primary);
		opacity: 1 !important;
		animation: none !important;
	}

	@keyframes show-link {
		from {
			opacity: 0;
			width: 0%;
		}
		to {
			opacity: 1;
			width: 100%;
		}
	}

	@keyframes hide-link {
		from {
			opacity: 1;
			width: 100%;
		}
		to {
			opacity: 0;
			width: 0%;
		}
	}

	a.home svg {
		transition: rotate 0.75s ease-in-out;
	}

	a.home:hover svg {
		rotate: -360deg;
	}
</style>
